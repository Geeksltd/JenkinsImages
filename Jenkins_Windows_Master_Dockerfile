FROM microsoft/windowsservercore
ENV JENKINS_VERSION 2.0
ENV HOME /jenkins

# Install Chocolatey
RUN powershell -NoProfile -InputFormat None -ExecutionPolicy Bypass -Command "iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))" && \
    setx PATH "%ProgramData%\chocolatey\bin\;%PATH%";

RUN choco install dotnetcore-sdk -y && \
    setx PATH "%ProgramData%\dotnet\;%PATH%;";

# Install replace-in-file
RUN dotnet tool install -g replace-in-file

ENV JAVA_HOME c:\\Java\\jre1.8.0_91
# Install Java
RUN choco install -g javaruntime && \
	setx PATH %PATH%;%JAVA_HOME%\bin

